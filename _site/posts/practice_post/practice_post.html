<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alexander Raeside">
<meta name="description" content="My first practice post with Quarto. Wish me luck!">

<title>Alex Raeside - Bioinformatics - Four things I would to like to do with Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Alex Raeside - Bioinformatics</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About myself</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Four things I would to like to do with Quarto</h1>
                  <div>
        <div class="description">
          My first practice post with Quarto. Wish me luck!
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Alexander Raeside </p>
            </div>
    </div>
      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="four-things-to-do-with-quarto" class="level1">
<h1>Four things to do with Quarto</h1>
<p>I’ve been thinking of learning Quarto, the open-source scientific and technical publishing system for awhile now so I thought I would just jump in and create a first post detailing what I actually want to use Quarto for. I’m a bioinformatican by trade and a few of my projects have ended in web apps like RShiny, which are great for allowing the biologist to access, visualize and query the analysis and data. Recently though I’ve been thinking that instead of making web-apps and dealing with things like hosting and security it might be easier for everyone involved if I just create reports instead. Interactive reports that can be placed on a shared directory or standalone HTML that can be sent via e-mail automatically when the analysis is done. There is lots of things to use Quarto for like creating this blog but for conceptual symmetry here are four:</p>
<ol type="1">
<li>Discuss figures alongside generated text</li>
<li>Embed widgets like plotly plots</li>
<li>Create smart tables</li>
<li>Allow for downloads</li>
</ol>
<p>If your intreasted in the actual markdown code that was used to produce this webpage then you can find here on my github.</p>
<section id="discuss-figures-alongside-generated-text" class="level2">
<h2 class="anchored" data-anchor-id="discuss-figures-alongside-generated-text">Discuss figures alongside generated text</h2>
<p>I’m going to break my four things about quarto rule straight out the gate as this is really two things. A bioinformatic reports are usually going to numerous figures and will have to be shown next to text in relatively neat way. Automatically generated reports also is going to contain some automatically generated text, loaded into the report from a nearby config file.</p>
<p>The figure was produced from automated snakmake pipeline which pseduoaligned maize RNA-Seq reads to the maize transcriptome. The reason is pseduoalined is that instead of aligning reads to transcriptome like a aligner, kallisto just sort of matches the reads to a part of the transcriptome with a few additional steps. I’ll go into that in more detail when I do my blog post on the snakemake kallisto pipeline.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="figures/maize_pseudoalignment_summary.svg" class="img-fluid figure-img" style="width:70.0%" alt="Just a nice figure."></p>
<p></p><figcaption class="figure-caption">Maize Pseudoalignment Summary</figcaption><p></p>
</figure>
</div>
<p>So the figure looks fine. Most biologists have seen these figures many times before and would in a moment tell that the proportion of reads pseduoaligned across all samples is above 80% so no problems here. Say I need to show multiple figures for multiple runs, giving each figure a empty chunk of web page to hang out in would get ugly fast so I can use quarto markdown to get the figures shown side by side.</p>
<pre><code></code></pre>
<p>Looks good but if I had more runs to show, and more figures to describe each run it could get confusing fast. It would be beneficial to only show one runs figure at a time and get the user to click which figure they want to see. This can be done using a panel tab, shown below along with the markdown code to produce it.</p>
<pre><code>
::: {.panel-tabset}

## Dataset A

::: {.panel-tabset}

## Pseudoalignment summary 
![](figures/maize_pseudoalignment_summary.svg)

## PCA
![](figures/maize_pca_vst_counts_filtered_medi200.svg)

:::

## Dataset B

::: {.panel-tabset}

## Pseudoalignment summary 
![](figures/rat_pseudoalignment_summary.svg)

## PCA
![](figures/rat_pca_vst_counts_filtered_medi200.svg)
:::



:::


:::
</code></pre>
<p>The panel tab</p>
</section>
<section id="embded-wedgits" class="level2">
<h2 class="anchored" data-anchor-id="embded-wedgits">Embded wedgits</h2>
</section>
<section id="create-smart-tables" class="level2">
<h2 class="anchored" data-anchor-id="create-smart-tables">Create smart tables</h2>
</section>
<section id="allow-for-downloads" class="level2">
<h2 class="anchored" data-anchor-id="allow-for-downloads">Allow for downloads</h2>
<p>Below is rules diagram from my snakemake pipeline and it looks okay but its large with a lot of things going on. The figures is made automatically from the snakemake automation pipeline and the fact it looks like it makes sense means the I set up the snakemake correctly.</p>
<p><img src="figures/testA_rulegraph.svg" class="img-fluid"></p>
<p>The figure is very very large and longer then wide so it would be good to see if the figure could be smaller aligned to the left with some sort of descriptive text to the right of the figure.</p>
</section>
<section id="better-dag" class="level2">
<h2 class="anchored" data-anchor-id="better-dag">Better DAG</h2>
<p>Heres the figure smaller and aligned to the left but cant figure out how to get the figure in one col and the text in another. I see some folk tackle this with some latex css stuff but id really rather not. Will check to see if I can do something with captions.</p>
<p><img src="figures/testA_rulegraph.svg" class="img-fluid" width="250"></p>
<p>Below is a panel tabset which are really good for getting multiple figures onto a page without stretching it out to much.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Dataset A</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Dataset B</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="figures/maize_dag.svg" title="Eight RNA-Seq samples aligned to the Maize transcriptome" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="figures/rat_dag.svg" title="Six RNA-Seq samples aligned to the Rat transcriptome" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
<p>What would be really cool is a dataset within a dataset. Which I will try to do down below with some more figures I got from the kallisto snakemake running the</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Dataset A</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Dataset B</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Pseudoalignment summary</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">PCA</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p><img src="figures/maize_pseudoalignment_summary.svg" class="img-fluid"></p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p><img src="figures/maize_pca_vst_counts_filtered_medi200.svg" class="img-fluid"></p>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Pseudoalignment summary</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">PCA</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p><img src="figures/rat_pseudoalignment_summary.svg" class="img-fluid"></p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p><img src="figures/rat_pca_vst_counts_filtered_medi200.svg" class="img-fluid"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>:::</p>
</section>
<section id="create-a-list" class="level2">
<h2 class="anchored" data-anchor-id="create-a-list">Create a list</h2>
<p>These are the movies I saw in 2022 that I can remember on the 7th of January 2023. There must be more then this. None of these are even proper comedies…</p>
<ol type="1">
<li><p>Emma</p></li>
<li><p>NOPE</p></li>
<li><p>Everything, Everywhere, All the Time</p></li>
<li><p>The Batman</p></li>
<li><p>Glass Onion</p></li>
<li><p>Pinocchio</p></li>
<li><p>Ponyo</p></li>
<li><p>Wendell and Wild</p></li>
</ol>
</section>
<section id="embed-a-widget" class="level2">
<h2 class="anchored" data-anchor-id="embed-a-widget">Embed a widget</h2>
<p>I made some html widgets during my work on a snakemake NGS project so I’m going to try to embed them here. Depending on how it looks, I might change the snakemake to save plotly plots as Rdata</p>
</section>
<section id="add-a-wee-table" class="level2">
<h2 class="anchored" data-anchor-id="add-a-wee-table">Add a wee table</h2>
<p>Here is the pseudoalignment summary tables.</p>
</section>
<section id="add-a-smart-table" class="level2">
<h2 class="anchored" data-anchor-id="add-a-smart-table">Add a smart table</h2>
<p>Here is some random metadata table you can see I’ve added tooltips</p>
</section>
<section id="download-a-file" class="level2">
<h2 class="anchored" data-anchor-id="download-a-file">Download a file</h2>
<p>If you like that pseudoalignment summary table then you can download it here</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>